{
  "meta": {
    "project": "Biometric Faceprint Attendance System",
    "date": "2025-12-30",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "The Biometric Faceprint Attendance System is a web-based facial recognition solution designed to automate attendance management for educational and organizational settings. It enables secure user registration, facial enrollment, real-time attendance marking, and reporting through an intuitive role-based dashboard interface for hosts (admins/instructors) and attendees (students/employees).",
  "core_goals": [
    "Automate accurate and fraud-resistant attendance recording using facial biometrics.",
    "Provide real-time face recognition to mark attendance with status (present, late, absent).",
    "Support user roles: hosts who create/manage events and attendees who enroll and check-in.",
    "Ensure data privacy and security compliance, including encryption of biometric data and user control over face data deletion.",
    "Generate detailed attendance reports for hosts with export options.",
    "Send automated notifications and reminders for scheduled events.",
    "Maintain usability with accessible, responsive web interface compatible across devices.",
    "Enable manual override capabilities for hosts to correct attendance records if needed."
  ],
  "key_features": [
    "User Signup with email verification and role definition (host, attendee, admin).",
    "Secure User Login with JWT authentication and role-based dashboards.",
    "Email verification workflow to activate user accounts.",
    "Event Management with CRUD operations for hosts to create and schedule attendance sessions.",
    "Face Enrollment by uploading clear facial image for biometric embedding extraction and encryption.",
    "Real-time Attendance Marking using live webcam feed with facial matching and timestamp recording.",
    "Manual Override of attendance status by hosts.",
    "Join Event functionality via join codes for attendees.",
    "Automated reminders and notifications sent before events via email and dashboard banners.",
    "Attendance records retrieval with role-based access (hosts see all, attendees see own).",
    "Profile management for users including non-biometric data.",
    "Face Data Privacy allowing attendees to delete their biometric data with confirmation.",
    "Detailed reporting with export options (CSV, PDF)."
  ],
  "user_flow_summary": [
    "Guest user signs up by providing email, password, name, role and verifies email.",
    "User logs in with credentials and accesses role-based dashboard (Host or Attendee).",
    "Host creates subjects and schedules events with date, time, and optional venue.",
    "Attendee enrolls in subjects by entering subject code and uploading facial image for enrollment.",
    "Host starts attendance session; system uses webcam to detect faces, mark attendance in real-time with status.",
    "Host can view live attendance dashboard and manually override statuses if needed.",
    "Attendees can view their enrollments and attendance status.",
    "Users can edit profile details except biometric data.",
    "Attendees can request deletion of face data which removes their biometric templates and sends confirmation.",
    "Hosts can generate attendance reports filtered by event or date range and export them as CSV or PDF."
  ],
  "validation_criteria": [
    "Successful user registration with email verification and role assignment.",
    "JWT-based authentication and authorization with role-based access control.",
    "Accurate facial embedding generation and encrypted storage during enrollment.",
    "Real-time facial detection and matching identifying users within 2â€“3 seconds.",
    "Correct marking of attendance status based on time thresholds (Present, Late, Absent).",
    "Reliable manual override functionality available only to hosts and logged.",
    "Delivery and logging of automated notifications before events.",
    "Data privacy enforced, with correct removal of face data upon user request and confirmation emailing.",
    "Generation and download of accurate attendance reports in supported formats.",
    "System compatibility with supported hardware and browsers as specified.",
    "System resilience with 95% uptime, error handling for camera, network, and processing failures.",
    "Security compliance for biometric and personal data handling per regulatory standards."
  ],
  "code_summary": {
    "tech_stack": [
      "Python",
      "Django",
      "Django REST Framework",
      "SQLite",
      "React",
      "Vite",
      "TypeScript",
      "TailwindCSS",
      "Axios",
      "JWT Authentication"
    ],
    "features": [
      {
        "name": "User Signup",
        "description": "User registration endpoint that creates a new user account and sends email verification",
        "files": [
          "backend/api/views.py",
          "backend/api/serializers.py",
          "backend/api/models.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/auth/signup/": {
              "post": {
                "summary": "User Signup",
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "username": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string",
                            "format": "email"
                          },
                          "password": {
                            "type": "string"
                          },
                          "role": {
                            "type": "string",
                            "enum": [
                              "student",
                              "host",
                              "admin"
                            ]
                          },
                          "phone": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "username",
                          "email",
                          "password"
                        ]
                      }
                    }
                  }
                },
                "responses": {
                  "201": {
                    "description": "User created successfully",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "message": {
                              "type": "string"
                            },
                            "user_id": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  },
                  "400": {
                    "description": "Bad request"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "User Login",
        "description": "User authentication endpoint that returns JWT tokens",
        "files": [
          "backend/api/views.py",
          "backend/api/serializers.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/auth/login/": {
              "post": {
                "summary": "User Login",
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "username": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "username",
                          "password"
                        ]
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Login successful",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "refresh": {
                              "type": "string"
                            },
                            "access": {
                              "type": "string"
                            },
                            "role": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "401": {
                    "description": "Invalid credentials"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Email Verification",
        "description": "Verify user email using token sent via email",
        "files": [
          "backend/api/views.py",
          "backend/api/models.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/auth/verify-email/": {
              "post": {
                "summary": "Verify Email",
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "token": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "token"
                        ]
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Email verified successfully",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "message": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "400": {
                    "description": "Invalid or expired token"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Event Management",
        "description": "CRUD operations for events. Hosts can create events, students can view enrolled events",
        "files": [
          "backend/api/views.py",
          "backend/api/serializers.py",
          "backend/api/models.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/events/": {
              "get": {
                "summary": "List Events",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "List of events",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Event"
                          }
                        }
                      }
                    }
                  }
                }
              },
              "post": {
                "summary": "Create Event",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "$ref": "#/components/schemas/Event"
                      }
                    }
                  }
                },
                "responses": {
                  "201": {
                    "description": "Event created"
                  },
                  "400": {
                    "description": "Bad request"
                  }
                }
              }
            },
            "/api/events/{id}/": {
              "get": {
                "summary": "Get Event Details",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Event details"
                  }
                }
              },
              "put": {
                "summary": "Update Event",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Event updated"
                  }
                }
              },
              "delete": {
                "summary": "Delete Event",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "204": {
                    "description": "Event deleted"
                  }
                }
              }
            }
          },
          "components": {
            "schemas": {
              "Event": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer"
                  },
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "date": {
                    "type": "string",
                    "format": "date"
                  },
                  "time": {
                    "type": "string",
                    "format": "time"
                  },
                  "duration": {
                    "type": "string"
                  },
                  "grace_period": {
                    "type": "integer"
                  },
                  "join_code": {
                    "type": "string",
                    "readOnly": true
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Join Event",
        "description": "Student joins an event using a join code",
        "files": [
          "backend/api/views.py",
          "backend/api/models.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/events/join_event/": {
              "post": {
                "summary": "Join Event by Code",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "join_code": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "join_code"
                        ]
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Successfully joined event",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "message": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "404": {
                    "description": "Invalid code"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Face Enrollment",
        "description": "Enroll user face by uploading face image for biometric recognition",
        "files": [
          "backend/api/views.py",
          "backend/api/models.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/users/enroll_face/": {
              "post": {
                "summary": "Enroll Face",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "image": {
                            "type": "string",
                            "format": "base64"
                          }
                        },
                        "required": [
                          "image"
                        ]
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Face enrolled successfully",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "message": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "400": {
                    "description": "Bad request"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Mark Attendance",
        "description": "Mark attendance using live face recognition",
        "files": [
          "backend/api/views.py",
          "backend/api/models.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/attendance/mark_live/": {
              "post": {
                "summary": "Mark Attendance Live",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "event_id": {
                            "type": "integer"
                          },
                          "image": {
                            "type": "string",
                            "format": "base64"
                          }
                        },
                        "required": [
                          "event_id",
                          "image"
                        ]
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Attendance marked",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "status": {
                              "type": "string"
                            },
                            "student": {
                              "type": "string"
                            },
                            "time": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "400": {
                    "description": "Face not recognized or already marked"
                  },
                  "404": {
                    "description": "Event not found"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Attendance Records",
        "description": "Get attendance records. Hosts see all records for their events, students see their own",
        "files": [
          "backend/api/views.py",
          "backend/api/serializers.py",
          "backend/api/models.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/attendance/": {
              "get": {
                "summary": "List Attendance Records",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "List of attendance records",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/AttendanceRecord"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "components": {
            "schemas": {
              "AttendanceRecord": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer"
                  },
                  "event": {
                    "type": "integer"
                  },
                  "student": {
                    "type": "integer"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "present",
                      "late",
                      "absent"
                    ]
                  },
                  "timestamp": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "date": {
                    "type": "string",
                    "format": "date"
                  },
                  "time": {
                    "type": "string",
                    "format": "time"
                  },
                  "confidence_score": {
                    "type": "number"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "User Management",
        "description": "User profile management endpoints",
        "files": [
          "backend/api/views.py",
          "backend/api/serializers.py",
          "backend/api/models.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/users/": {
              "get": {
                "summary": "List Users",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "List of users"
                  }
                }
              }
            },
            "/api/users/{id}/": {
              "get": {
                "summary": "Get User Details",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "User details"
                  }
                }
              },
              "put": {
                "summary": "Update User",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "User updated"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Enrollment Management",
        "description": "View student enrollments in events",
        "files": [
          "backend/api/views.py",
          "backend/api/serializers.py",
          "backend/api/models.py"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/api/enrollments/": {
              "get": {
                "summary": "List Enrollments",
                "security": [
                  {
                    "bearerAuth": []
                  }
                ],
                "responses": {
                  "200": {
                    "description": "List of enrollments",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Enrollment"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "components": {
            "schemas": {
              "Enrollment": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer"
                  },
                  "student": {
                    "type": "integer"
                  },
                  "event": {
                    "$ref": "#/components/schemas/Event"
                  },
                  "enrolled_at": {
                    "type": "string",
                    "format": "date-time"
                  }
                }
              }
            }
          }
        }
      }
    ]
  }
}
