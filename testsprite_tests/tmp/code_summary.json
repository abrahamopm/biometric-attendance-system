{
  "tech_stack": [
    "Python",
    "Django",
    "Django REST Framework",
    "SQLite",
    "React",
    "Vite",
    "TypeScript",
    "TailwindCSS",
    "Axios",
    "JWT Authentication"
  ],
  "features": [
    {
      "name": "User Signup",
      "description": "User registration endpoint that creates a new user account and sends email verification",
      "files": [
        "backend/api/views.py",
        "backend/api/serializers.py",
        "backend/api/models.py"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/auth/signup/": {
            "post": {
              "summary": "User Signup",
              "requestBody": {
                "required": true,
                "content": {
                  "application/json": {
                    "schema": {
                      "type": "object",
                      "properties": {
                        "username": {"type": "string"},
                        "email": {"type": "string", "format": "email"},
                        "password": {"type": "string"},
                        "role": {"type": "string", "enum": ["student", "host", "admin"]},
                        "phone": {"type": "string"}
                      },
                      "required": ["username", "email", "password"]
                    }
                  }
                }
              },
              "responses": {
                "201": {
                  "description": "User created successfully",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "message": {"type": "string"},
                          "user_id": {"type": "integer"}
                        }
                      }
                    }
                  }
                },
                "400": {"description": "Bad request"}
              }
            }
          }
        }
      }
    },
    {
      "name": "User Login",
      "description": "User authentication endpoint that returns JWT tokens",
      "files": [
        "backend/api/views.py",
        "backend/api/serializers.py"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/auth/login/": {
            "post": {
              "summary": "User Login",
              "requestBody": {
                "required": true,
                "content": {
                  "application/json": {
                    "schema": {
                      "type": "object",
                      "properties": {
                        "username": {"type": "string"},
                        "password": {"type": "string"}
                      },
                      "required": ["username", "password"]
                    }
                  }
                }
              },
              "responses": {
                "200": {
                  "description": "Login successful",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "refresh": {"type": "string"},
                          "access": {"type": "string"},
                          "role": {"type": "string"}
                        }
                      }
                    }
                  }
                },
                "401": {"description": "Invalid credentials"}
              }
            }
          }
        }
      }
    },
    {
      "name": "Email Verification",
      "description": "Verify user email using token sent via email",
      "files": [
        "backend/api/views.py",
        "backend/api/models.py"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/auth/verify-email/": {
            "post": {
              "summary": "Verify Email",
              "requestBody": {
                "required": true,
                "content": {
                  "application/json": {
                    "schema": {
                      "type": "object",
                      "properties": {
                        "token": {"type": "string"}
                      },
                      "required": ["token"]
                    }
                  }
                }
              },
              "responses": {
                "200": {
                  "description": "Email verified successfully",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "message": {"type": "string"}
                        }
                      }
                    }
                  }
                },
                "400": {"description": "Invalid or expired token"}
              }
            }
          }
        }
      }
    },
    {
      "name": "Event Management",
      "description": "CRUD operations for events. Hosts can create events, students can view enrolled events",
      "files": [
        "backend/api/views.py",
        "backend/api/serializers.py",
        "backend/api/models.py"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/events/": {
            "get": {
              "summary": "List Events",
              "security": [{"bearerAuth": []}],
              "responses": {
                "200": {
                  "description": "List of events",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "array",
                        "items": {"$ref": "#/components/schemas/Event"}
                      }
                    }
                  }
                }
              }
            },
            "post": {
              "summary": "Create Event",
              "security": [{"bearerAuth": []}],
              "requestBody": {
                "required": true,
                "content": {
                  "application/json": {
                    "schema": {"$ref": "#/components/schemas/Event"}
                  }
                }
              },
              "responses": {
                "201": {"description": "Event created"},
                "400": {"description": "Bad request"}
              }
            }
          },
          "/api/events/{id}/": {
            "get": {
              "summary": "Get Event Details",
              "security": [{"bearerAuth": []}],
              "responses": {
                "200": {"description": "Event details"}
              }
            },
            "put": {
              "summary": "Update Event",
              "security": [{"bearerAuth": []}],
              "responses": {
                "200": {"description": "Event updated"}
              }
            },
            "delete": {
              "summary": "Delete Event",
              "security": [{"bearerAuth": []}],
              "responses": {
                "204": {"description": "Event deleted"}
              }
            }
          }
        },
        "components": {
          "schemas": {
            "Event": {
              "type": "object",
              "properties": {
                "id": {"type": "integer"},
                "name": {"type": "string"},
                "description": {"type": "string"},
                "date": {"type": "string", "format": "date"},
                "time": {"type": "string", "format": "time"},
                "duration": {"type": "string"},
                "grace_period": {"type": "integer"},
                "join_code": {"type": "string", "readOnly": true}
              }
            }
          }
        }
      }
    },
    {
      "name": "Join Event",
      "description": "Student joins an event using a join code",
      "files": [
        "backend/api/views.py",
        "backend/api/models.py"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/events/join_event/": {
            "post": {
              "summary": "Join Event by Code",
              "security": [{"bearerAuth": []}],
              "requestBody": {
                "required": true,
                "content": {
                  "application/json": {
                    "schema": {
                      "type": "object",
                      "properties": {
                        "join_code": {"type": "string"}
                      },
                      "required": ["join_code"]
                    }
                  }
                }
              },
              "responses": {
                "200": {
                  "description": "Successfully joined event",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "message": {"type": "string"}
                        }
                      }
                    }
                  }
                },
                "404": {"description": "Invalid code"}
              }
            }
          }
        }
      }
    },
    {
      "name": "Face Enrollment",
      "description": "Enroll user face by uploading face image for biometric recognition",
      "files": [
        "backend/api/views.py",
        "backend/api/models.py"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/users/enroll_face/": {
            "post": {
              "summary": "Enroll Face",
              "security": [{"bearerAuth": []}],
              "requestBody": {
                "required": true,
                "content": {
                  "application/json": {
                    "schema": {
                      "type": "object",
                      "properties": {
                        "image": {"type": "string", "format": "base64"}
                      },
                      "required": ["image"]
                    }
                  }
                }
              },
              "responses": {
                "200": {
                  "description": "Face enrolled successfully",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "message": {"type": "string"}
                        }
                      }
                    }
                  }
                },
                "400": {"description": "Bad request"}
              }
            }
          }
        }
      }
    },
    {
      "name": "Mark Attendance",
      "description": "Mark attendance using live face recognition",
      "files": [
        "backend/api/views.py",
        "backend/api/models.py"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/attendance/mark_live/": {
            "post": {
              "summary": "Mark Attendance Live",
              "security": [{"bearerAuth": []}],
              "requestBody": {
                "required": true,
                "content": {
                  "application/json": {
                    "schema": {
                      "type": "object",
                      "properties": {
                        "event_id": {"type": "integer"},
                        "image": {"type": "string", "format": "base64"}
                      },
                      "required": ["event_id", "image"]
                    }
                  }
                }
              },
              "responses": {
                "200": {
                  "description": "Attendance marked",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "status": {"type": "string"},
                          "student": {"type": "string"},
                          "time": {"type": "string"}
                        }
                      }
                    }
                  }
                },
                "400": {"description": "Face not recognized or already marked"},
                "404": {"description": "Event not found"}
              }
            }
          }
        }
      }
    },
    {
      "name": "Attendance Records",
      "description": "Get attendance records. Hosts see all records for their events, students see their own",
      "files": [
        "backend/api/views.py",
        "backend/api/serializers.py",
        "backend/api/models.py"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/attendance/": {
            "get": {
              "summary": "List Attendance Records",
              "security": [{"bearerAuth": []}],
              "responses": {
                "200": {
                  "description": "List of attendance records",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "array",
                        "items": {"$ref": "#/components/schemas/AttendanceRecord"}
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "components": {
          "schemas": {
            "AttendanceRecord": {
              "type": "object",
              "properties": {
                "id": {"type": "integer"},
                "event": {"type": "integer"},
                "student": {"type": "integer"},
                "status": {"type": "string", "enum": ["present", "late", "absent"]},
                "timestamp": {"type": "string", "format": "date-time"},
                "date": {"type": "string", "format": "date"},
                "time": {"type": "string", "format": "time"},
                "confidence_score": {"type": "number"}
              }
            }
          }
        }
      }
    },
    {
      "name": "User Management",
      "description": "User profile management endpoints",
      "files": [
        "backend/api/views.py",
        "backend/api/serializers.py",
        "backend/api/models.py"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/users/": {
            "get": {
              "summary": "List Users",
              "security": [{"bearerAuth": []}],
              "responses": {
                "200": {"description": "List of users"}
              }
            }
          },
          "/api/users/{id}/": {
            "get": {
              "summary": "Get User Details",
              "security": [{"bearerAuth": []}],
              "responses": {
                "200": {"description": "User details"}
              }
            },
            "put": {
              "summary": "Update User",
              "security": [{"bearerAuth": []}],
              "responses": {
                "200": {"description": "User updated"}
              }
            }
          }
        }
      }
    },
    {
      "name": "Enrollment Management",
      "description": "View student enrollments in events",
      "files": [
        "backend/api/views.py",
        "backend/api/serializers.py",
        "backend/api/models.py"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/enrollments/": {
            "get": {
              "summary": "List Enrollments",
              "security": [{"bearerAuth": []}],
              "responses": {
                "200": {
                  "description": "List of enrollments",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "array",
                        "items": {"$ref": "#/components/schemas/Enrollment"}
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "components": {
          "schemas": {
            "Enrollment": {
              "type": "object",
              "properties": {
                "id": {"type": "integer"},
                "student": {"type": "integer"},
                "event": {"$ref": "#/components/schemas/Event"},
                "enrolled_at": {"type": "string", "format": "date-time"}
              }
            }
          }
        }
      }
    }
  ]
}
